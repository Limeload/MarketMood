<div class="text-center">
  <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Sentiment Analysis</h2>
  <p class="mx-auto mt-3 max-w-2xl text-xl text-gray-500 sm:mt-4">Overview of market sentiment based on recent news articles</p>
  <img src="images/pie.png" alt="Sentiment Analysis Pie Chart" class="w-[25rem]" />
</div>

<h1 class="mt-8 text-2xl font-semibold leading-6 text-gray-900">Positive Sentiment</h1>
<ul class="mt-4 space-y-4">
  <% @positive_data.each do |news| %>
    <li class="bg-white p-4 shadow sm:rounded-lg">
      <strong class="text-lg"><%= news['title'] %>:</strong>
      <p class="mt-2 text-gray-700"><%= news['description'] %></p>
      <% if news["entities"].any? %>
        <ul class="mt-4 space-y-2">
          <% news["entities"].each do |entity| %>
            <li class="text-sm text-gray-500">
              <strong class="text-gray-900"><%= entity["symbol"] %></strong> - <%= entity["name"] %> (<%= entity["type"] %>)
            </li>
            <li class="text-sm text-gray-500">Industry: <%= entity["industry"] %></li>
            <li class="text-sm text-gray-500">Match Score: <%= entity["match_score"] %></li>
            <li class="text-sm text-gray-500">Sentiment Score: <%= entity["sentiment_score"] %></li>
          <% end %>
        </ul>
      <% end %>
      <p class="mt-4"><a href="<%= news["url"] %>" target="_blank" class="text-indigo-600 hover:text-indigo-900">Read more</a></p>
    </li>
  <% end %>
</ul>

<h1 class="mt-8 text-2xl font-semibold leading-6 text-gray-900">Neutral Sentiment</h1>
<ul class="mt-4 space-y-4">
  <% @neutral_data.each do |news| %>
    <li class="bg-white p-4 shadow sm:rounded-lg">
      <strong class="text-lg"><%= news['title'] %>:</strong>
      <p class="mt-2 text-gray-700"><%= news['description'] %></p>
      <% if news["entities"].any? %>
        <ul class="mt-4 space-y-2">
          <% news["entities"].each do |entity| %>
            <li class="text-sm text-gray-500">
              <strong class="text-gray-900"><%= entity["symbol"] %></strong> - <%= entity["name"] %> (<%= entity["type"] %>)
            </li>
            <li class="text-sm text-gray-500">Industry: <%= entity["industry"] %></li>
            <li class="text-sm text-gray-500">Match Score: <%= entity["match_score"] %></li>
            <li class="text-sm text-gray-500">Sentiment Score: <%= entity["sentiment_score"] %></li>
          <% end %>
        </ul>
      <% end %>
      <p class="mt-4"><a href="<%= news["url"] %>" target="_blank" class="text-indigo-600 hover:text-indigo-900">Read more</a></p>
    </li>
  <% end %>
</ul>

<h1 class="mt-8 text-2xl font-semibold leading-6 text-gray-900">Negative Sentiment</h1>
<ul class="mt-4 space-y-4">
  <% @negative_data.each do |news| %>
    <li class="bg-white p-4 shadow sm:rounded-lg">
      <strong class="text-lg"><%= news['title'] %>:</strong>
      <p class="mt-2 text-gray-700"><%= news['description'] %></p>
      <% if news["entities"].any? %>
        <ul class="mt-4 space-y-2">
          <% news["entities"].each do |entity| %>
            <li class="text-sm text-gray-500">
              <strong class="text-gray-900"><%= entity["symbol"] %></strong> - <%= entity["name"] %> (<%= entity["type"] %>)
            </li>
            <li class="text-sm text-gray-500">Industry: <%= entity["industry"] %></li>
            <li class="text-sm text-gray-500">Match Score: <%= entity["match_score"] %></li>
            <li class="text-sm text-gray-500">Sentiment Score: <%= entity["sentiment_score"] %></li>
          <% end %>
        </ul>
      <% end %>
      <p class="mt-4"><a href="<%= news["url"] %>" target="_blank" class="text-indigo-600 hover:text-indigo-900">Read more</a></p>
    </li>
  <% end %>
</ul>
